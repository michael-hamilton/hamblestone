<!doctype html><html><head><title>Life</title><style>*,* *{margin:0;padding:0}</style></head><body> <canvas id="canvas" width="640" height="480"></canvas> <p>Click on cells to toggle. Press space to start game</p> <script>var e=document.getElementById("canvas"),t=e.getContext("2d");function n(){for(i=0;i<e.height/h;i++)for(cells[i]=[],j=0;j<e.width/w;j++)cells[i][j]=0;e.addEventListener("click",function(e){var t=Math.floor(e.offsetX/w),n=Math.floor(e.offsetY/h);cells[n][t]=cells[n][t]?0:1}),window.addEventListener("keydown",function(e){32==e.keyCode&&(state=!state)}),c()}function l(){var e=[];function t(e,t){return cells[e]&&cells[e][t]}cells.forEach(function(n,l){e[l]=[],n.forEach(function(n,c){var f=function(e,n){var l=0;return t(e-1,n-1)&&l++,t(e,n-1)&&l++,t(e+1,n-1)&&l++,t(e-1,n)&&l++,t(e+1,n)&&l++,t(e-1,n+1)&&l++,t(e,n+1)&&l++,t(e+1,n+1)&&l++,l}(l,c);e[l][c]=n?2==f||3==f?1:0:3==f?1:0})}),cells=e,steps++,c()}function c(){t.clearRect(0,0,e.width,e.height),cells.forEach(function(e,n){e.forEach(function(e,l){t.fillStyle=e?"#0a90ff":"#d7d7d7",t.fillRect(l*w+1,n*h+1,w-1,h-1)})}),t.fillStyle="black",t.font="18px sans-serif",t.fillText("Steps: "+steps,0,18),setTimeout(function(){state?l():c()},speed)}cells=[],h=w=10,speed=100,state=!1,steps=0,n();</script> </body></html>